/* =============================================
   1. LAYOUT
   ============================================= */
.product-detail-page {
  min-height: 100vh;
  padding: 22px 20px 60px;
  background: radial-gradient(circle at top, #12254b 0, #050811 55%, #02030a 100%);
  color: #f5f7ff;
  font-family: 'Inter', sans-serif;
  display: flex; flex-direction: column; align-items: center;
  &.center { justify-content: center; }
}

.topbar {
  width: 100%; max-width: 1100px;
  position: sticky; top: 10px; z-index: 5;
  display: flex; justify-content: flex-start; padding-bottom: 14px;
}

.back-pill {
  display: inline-flex; align-items: center; gap: 10px; padding: 10px 14px;
  border-radius: 999px; border: 1px solid rgba(255,255,255,0.1);
  background: rgba(15, 23, 42, 0.55); color: #e5e7eb; cursor: pointer;
  backdrop-filter: blur(10px); transition: 0.2s;
  &:hover { background: rgba(30, 64, 175, 0.3); border-color: rgba(99,102,241,0.5); }
}

.auth-warning {
  max-width: 1100px; width: 100%; margin: 0 auto 12px; padding: 10px;
  border-radius: 12px; background: rgba(255, 165, 0, 0.12);
  border: 1px solid rgba(255, 165, 0, 0.35); color: #ffd08a; text-align: center;
}

/* =============================================
   2. CARTE PRODUIT
   ============================================= */
.product-detail-card {
  width: 100%; max-width: 1100px;
  background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(10px);
  border-radius: 24px; padding: 32px;
  display: grid; grid-template-columns: 1fr 1fr; gap: 40px;
  border: 1px solid rgba(255, 255, 255, 0.08); margin-bottom: 25px;
}

/* --- GALERIE --- */
.gallery { position: relative; display: flex; flex-direction: column; align-items: center; gap: 12px; }
.image-wrapper {
  width: 100%; aspect-ratio: 1; border-radius: 16px; background: #0f172a;
  overflow: hidden; cursor: zoom-in; position: relative;
  border: 1px solid rgba(255,255,255,0.06);
  &.dragging { cursor: grabbing; }
}
.slide-track { width: 100%; height: 100%; display: grid; place-items: center; will-change: transform; }
.animating .slide-track { transition: transform 0.2s ease-out; }
.main-img { max-width: 90%; max-height: 90%; object-fit: contain; pointer-events: none; }

.nav {
  position: absolute; top: 45%; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1);
  color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; z-index: 2; font-size: 1.5rem;
  &:hover:not(:disabled) { background: rgba(0,0,0,0.7); }
  &:disabled { opacity: 0.3; cursor: default; }
  &.prev { left: -10px; } &.next { right: -10px; }
}

.thumbs { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
.thumb {
  width: 60px; height: 60px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);
  background: rgba(15,23,42,0.6); overflow: hidden; cursor: pointer; padding: 0;
  &.active { border-color: #6366f1; box-shadow: 0 0 0 2px rgba(99,102,241,0.3); }
  img { width: 100%; height: 100%; object-fit: cover; }
}

/* --- DROITE --- */
.right { display: flex; flex-direction: column; gap: 1rem; }
h1 { margin: 0; font-size: 2rem; font-weight: 700; line-height: 1.1; }

.price-row { display: flex; align-items: center; gap: 12px; }
.sale-badge { padding: 4px 8px; border-radius: 99px; background: rgba(34,197,94,0.15); color: #bbf7d0; font-weight: 800; font-size: 0.85rem; }
.old { text-decoration: line-through; color: #94a3b8; font-weight: 700; }
.new, .price { font-size: 1.8rem; font-weight: 900; color: #fbbf24; }

.promo-pill { padding: 4px 10px; border-radius: 99px; font-size: 0.8rem; font-weight: 700; background: rgba(255,255,255,0.1); }
.promo-pill.active { background: rgba(34,197,94,0.15); color: #4ade80; }
.promo-pill.expired { background: rgba(239,68,68,0.15); color: #fca5a5; }

.wishlist-btn {
  display: inline-flex; gap: 8px; padding: 8px 14px; border-radius: 999px;
  border: 1px solid rgba(148,163,184,0.5); background: transparent; color: #e2e8f0; cursor: pointer;
  &.active { border-color: #f87171; color: #fca5a5; background: rgba(239,68,68,0.1); }
}

.meta { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 12px; color: #cbd5e1; line-height: 1.5; }

.stock-warning { color: #fde68a; } .stock-error { color: #fca5a5; }

.qty-row {
  display: flex; align-items: center; gap: 15px; background: rgba(255,255,255,0.05);
  border-radius: 99px; padding: 5px 10px; width: fit-content;
  .round-btn { width: 30px; height: 30px; border-radius: 50%; border: none; cursor: pointer; background: rgba(255,255,255,0.1); color: white; }
  .qty-label { font-weight: 700; font-size: 1.1rem; min-width: 20px; text-align: center; }
}

.btn-cart-animated {
  background: linear-gradient(135deg, #a855f7, #ec4899); color: white; border: none;
  padding: 14px; border-radius: 999px; font-weight: 700; font-size: 1rem; cursor: pointer;
  transition: 0.2s; &:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(236,72,153,0.4); }
  &:disabled { opacity: 0.5; cursor: default; }
}
.added-msg { color: #4ade80; font-weight: 600; margin-top: 5px; display: block; }

/* =============================================
   3. AVIS
   ============================================= */
.reviews-section { width: 100%; max-width: 1100px; display: flex; flex-direction: column; gap: 20px; }

.reviews-header-block {
  text-align: center; background: rgba(15,23,42,0.4); border: 1px solid rgba(255,255,255,0.05);
  padding: 20px; border-radius: 16px;
  .big-rating { font-size: 2.5rem; font-weight: 800; }
  .star { color: #334155; &.filled { color: #fbbf24; } }
}

.review-list { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 15px; }
.review-card {
  background: rgba(30, 41, 59, 0.4); border: 1px solid rgba(255,255,255,0.03);
  padding: 20px; border-radius: 12px;
}

.review-card-header {
  display: flex; justify-content: space-between; margin-bottom: 10px;
  .user-info { display: flex; gap: 10px; align-items: center; }
  .avatar { width: 36px; height: 36px; background: #6366f1; border-radius: 50%; display: grid; place-items: center; font-weight: 700; }
  .username { font-weight: 600; } .review-date { font-size: 0.8rem; color: #94a3b8; display: block; }
}

/* ✅ STYLE ALERTE SUPPRIMÉ */
.alert-deleted {
  background: rgba(220, 38, 38, 0.15); border: 1px solid rgba(220, 38, 38, 0.4);
  color: #fca5a5; padding: 10px; border-radius: 8px; margin: 10px 0 10px 46px;
  font-size: 0.9rem; font-weight: 600;
}
.content-muted { opacity: 0.5; filter: grayscale(100%); pointer-events: none; }

.review-content { margin-left: 46px; line-height: 1.5; color: #e2e8f0; }
.review-actions {
  margin-top: 8px; font-size: 0.8rem;
  .text-btn { background: none; border: none; color: #94a3b8; cursor: pointer; &:hover { text-decoration: underline; } &.danger { color: #ef4444; } }
  .separator { margin: 0 8px; color: #475569; }
}

.write-card {
  background: #1e293b; padding: 25px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.05);
  h4 { margin-top: 0; }
  .login-prompt a { color: #6366f1; }
}
.write-form {
  display: flex; flex-direction: column; gap: 10px;
  label { font-size: 0.85rem; color: #cbd5e1; }
}
.input-dark {
  background: #020617; border: 1px solid #334155; color: white;
  padding: 10px; border-radius: 8px; width: 100%; &:focus { border-color: #6366f1; outline: none; }
}
.btn-submit {
  background: #6366f1; color: white; border: none; padding: 10px 20px; border-radius: 8px;
  cursor: pointer; align-self: flex-end; &:disabled { opacity: 0.5; }
}
.form-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; }
.error-msg { color: #f87171; } .success-msg { color: #4ade80; }

/* =============================================
   4. ZOOM
   ============================================= */
.zoom-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 9999;
  display: grid; place-items: center;
}
.zoom-panel {
  width: 90vw; height: 90vh; display: flex; flex-direction: column;
}
.zoom-topbar {
  display: flex; justify-content: space-between; padding: 10px; background: rgba(0,0,0,0.5);
  .zbtn { background: rgba(255,255,255,0.1); border: none; color: white; width: 30px; height: 30px; border-radius: 5px; cursor: pointer; }
}
.zoom-body { flex: 1; overflow: auto; display: grid; place-items: center; }
.zoom-img { max-width: 95%; max-height: 95%; object-fit: contain; transition: transform 0.1s; }

/* RESPONSIVE */
@media (max-width: 900px) {
  .product-detail-card { grid-template-columns: 1fr; }
  .review-content { margin-left: 0; }
  .alert-deleted { margin-left: 0; }
}
