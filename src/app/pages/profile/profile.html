<div class="profile-page">

  <h1>Mon Profil</h1>

  <!-- SECTION HISTORIQUE DES COMMANDES -->
  <div class="orders-section">
    <h2>Mes commandes</h2>

    <ng-container *ngIf="orders.length; else noOrders">

      <div *ngFor="let order of orders" class="order-card">

        <div class="order-header">
          <h3>{{ order.reference }}</h3>
          <span class="status {{ order.status | lowercase }}">
            {{ order.status }}
          </span>
        </div>

        <div class="order-info">
          <p>Total : <strong>{{ order.totalAmount | currency:'EUR' }}</strong></p>
          <p>Date : {{ order.createdAt | date:'dd/MM/yyyy HH:mm' }}</p>
        </div>

        <table class="order-items">
          <thead>
          <tr>
            <th>Produit</th>
            <th>Prix</th>
            <th>Qté</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of order.items">
            <td>{{ item.productName }}</td>
            <td>{{ item.unitPrice | currency:'EUR' }}</td>
            <td>{{ item.quantity }}</td>
          </tr>
          </tbody>
        </table>

      </div>

    </ng-container>

    <ng-template #noOrders>
      <p class="empty">Vous n'avez pas encore passé de commande.</p>
    </ng-template>

  </div>

</div>
